{{#*inline "type-entry"}}
<div class="type-entry">
    <label>
        <sacramento-rpg-checkbox value="{{ @key }}" data-action="setType" {{ checked chosen }}
                        {{ disabled @root.isLocked.types }}></sacramento-rpg-checkbox>
        <span>{{ localize label }}</span>
    </label>
</div>
{{/inline}}

<div class="flexcol" {{#unless showTypes}}hidden{{/unless}}>
    {{#each types}}
    {{#if children}}
    <div class="type-group collapsible" data-expand-id="types-{{ @key }}">
        <div class="type-group-header">
            <label>
                <sacramento-rpg-checkbox data-action="setType" {{ checked chosen }}
                                {{ disabled @root.isLocked.types }}></sacramento-rpg-checkbox>
                <span>{{ localize label }}</span>
            </label>
            <div data-action="toggleCollapsed"><i class="fa-solid fa-caret-down"></i></div>
        </div>
        <div class="collapsible-content">
            <div class="wrapper">
                {{#each children}}
                {{> "type-entry" }}
                {{/each}}
            </div>
        </div>
    </div>
    {{else}}
    {{> "type-entry" }}
    {{/if}}
    {{/each}}
</div>
